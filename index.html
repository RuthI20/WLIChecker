<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brinnington Surgery Weight Loss Eligibility Checker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #ffffff;
      color: #0b0c0c;
      margin: 0;
      padding: 20px;
      line-height: 1.6;
      max-width: 800px;
      margin: auto;
    }
    h1, h2 {
      color: #005eb8;
    }
    select, input[type="number"] {
      width: 100%;
      padding: 8px;
      margin-top: 6px;
      font-size: 1em;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    button {
      background-color: #005eb8;
      color: white;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 4px;
      margin-top: 20px;
      cursor: pointer;
    }
    .result {
      margin-top: 20px;
      font-weight: bold;
      padding: 10px;
      border-radius: 4px;
    }
    .success {
      background-color: #d4edda;
      color: #155724;
    }
    .error {
      background-color: #f8d7da;
      color: #721c24;
    }
  </style>
</head>
<body>
  <h1>Brinnington Surgery</h1>

  <p>
    At Brinnington Surgery we want to support you to improve your health and feel better.
    As a practice we are committed to working with our patients to support weight loss and
    healthy lifestyle changes. We recognise this can be difficult and aim to give as much
    support as possible.
  </p>

  <p>
    We can help you access a number of options including support with healthy eating and
    exercise and access to NHS digital weight loss programmes.
  </p>

  <p>
    If you have a BMI &ge;40 (or &ge;37.5 for Black, Asian or Middle Eastern ethnicity), and have
    4 or more medical conditions related to your weight (such as diabetes, high blood pressure,
    sleep apnoea), you may also be eligible for new weight loss injections. These are given
    once a week and have been shown to improve weight, diabetes, blood pressure and even reduce
    the risk of heart attacks and strokes.
  </p>

  <h2>Check your eligibility below:</h2>

  <!-- ELIGIBILITY CALCULATOR -->
  <label for="height">What is your height? (cm)</label>
  <input type="number" id="height" required />

  <label for="weight">What is your weight? (kg)</label>
  <input type="number" id="weight" required />

  <label for="ethnicity">What is your ethnicity?</label>
  <select id="ethnicity" required>
    <option value="">-- Please select --</option>
    <option value="white">White</option>
    <option value="black african">Black African</option>
    <option value="black caribbean">Black Caribbean</option>
    <option value="asian">Asian</option>
    <option value="middle eastern">Middle Eastern</option>
    <option value="other">Other</option>
  </select>

  <label for="diabetes">Do you have type 2 diabetes?</label>
  <select id="diabetes">
    <option value="">-- Please select --</option>
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>

  <label for="bp">Do you have high blood pressure (medicated)?</label>
  <select id="bp">
    <option value="">-- Please select --</option>
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>

  <label for="cholesterol">Do you have high cholesterol (medicated)?</label>
  <select id="cholesterol">
    <option value="">-- Please select --</option>
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>

  <label for="osa">Do you have obstructive sleep apnoea?</label>
  <select id="osa">
    <option value="">-- Please select --</option>
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>

  <label for="cvd">Do you have cardiovascular disease (e.g. heart disease, angina, stroke)?</label>
  <select id="cvd">
    <option value="">-- Please select --</option>
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>

  <button onclick="checkEligibility()">Check Eligibility</button>

  <div id="bmiResult" class="result"></div>
  <div id="eligibilityResult" class="result"></div>

  <script>
    function checkEligibility() {
      const height = parseFloat(document.getElementById("height").value);
      const weight = parseFloat(document.getElementById("weight").value);
      const ethnicity = document.getElementById("ethnicity").value;
      const comorbidities = [
        document.getElementById("diabetes").value,
        document.getElementById("bp").value,
        document.getElementById("cholesterol").value,
        document.getElementById("osa").value,
        document.getElementById("cvd").value
      ];

      if (isNaN(height) || isNaN(weight) || ethnicity === "" || comorbidities.includes("")) {
        alert("Please complete all fields.");
        return;
      }

      const bmi = weight / ((height / 100) ** 2);
      document.getElementById("bmiResult").innerText = `Your BMI is ${bmi.toFixed(1)}`;

      const yesCount = comorbidities.filter(val => val === "yes").length;
      const highRiskEthnicities = ["asian", "black african", "black caribbean", "middle eastern"];
      let eligible = false;

      if (highRiskEthnicities.includes(ethnicity.toLowerCase())) {
        if (bmi >= 37.5 && yesCount >= 4) eligible = true;
      } else {
        if (bmi >= 40 && yesCount >= 4) eligible = true;
      }

      const resultBox = document.getElementById("eligibilityResult");
      if (eligible) {
        resultBox.className = "result success";
        resultBox.innerText = "You may be eligible, please speak to your GP practice.";
      } else {
        resultBox.className = "result error";
        resultBox.innerText = "You are not eligible. Please read the information on this webpage regarding alternative weight loss and healthy lifestyle options.";
      }
    }
  </script>
</body>
</html>
